<% chart_id = generate_id %>

<script>
  (function() {
    var chart = new ChartBuilder('<%= chart_id %>')
        .chartOpts({
          seriesType: 'scatter',
          interpolateNulls: true,
          series: {
            1: {
              type: 'steppedArea',
              color: '#FA0',
              areaOpacity: 0
            },
            2: {
              type: 'steppedArea',
              color: '#F66',
              areaOpacity: 0
            }
          },
          legend: {
            position: 'none'
          },
          chartArea: {
            width: '90%'
          }
        })
        .url('<%= board_api_path(@board) %>/scatterplot.json')
        .chartType('ComboChart')
        .build();

    google.charts.setOnLoadCallback(chart.refresh);
    $('#ct-states input, #ct-states textarea').change(chart.refresh);
  })();
</script>

<div id="<%= chart_id %>" style="height: 500px;">
</div>
