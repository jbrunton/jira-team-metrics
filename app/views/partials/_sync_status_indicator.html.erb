<script>
  (function() {
    var channelOpts = {
      channel: "<%= channel %>"
    };
    <% if defined?(jira_id) %>
      channelOpts.jira_id = <%= jira_id %>;
    <% end %>
    App.cable.subscriptions.create(channelOpts, {
      received: statusReceived
    });
  })();
</script>

<div id="sync-indicator" style="display: none;" class="ui fluid card">
  <div class="content">
    <div class="header">Synchronizing</div>
  </div>
  <div class="content">
    <p>
      <span id="sync-status-title">Updating Board</span>
      &middot;
      <span class="grey-text" id="sync-status">Syncing issues</span>
    </p>
    <div class="ui tiny blue progress" id="indicator-determinate">
      <div class="bar"></div>
    </div>
    <div class="ui tiny blue active progress" id="indicator-indeterminate">
      <div class="bar"></div>
    </div>
  </div>
</div>
