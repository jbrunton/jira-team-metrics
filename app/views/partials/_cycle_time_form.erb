<div class="row" id="ct-states">
  <form id="filter-params" class="col s12">
    <div class="row">
      <div class="input-field col s3">
        <input name="from_state" id="from_state" type="text" class="validate state" autocomplete="off">
        <label for="from_state">From State</label>
      </div>
      <div class="input-field col s3">
        <input name="to_state" id="to_state" type="text" class="validate state" autocomplete="off">
        <label for="to_state">To State</label>
      </div>
    </div>
    <p>Include:</p>
    <% @board.filters.each do |filter| %>
        <div>
          <input name="filters[]" class="board-filter" value="<%= filter.id %>" type="checkbox" id="filter-<%= filter.id %>" <%= 'checked="checked"' if filter.query_filter? %> />
          <label for="filter-<%= filter.id %>"><%= filter.name %></label>
        </div>
    <% end %>
  </form>
</div>

<script>
  $(function() {
    $('.state').autocomplete({
      data: {
        <% @domain['statuses'].each do |status, _| %>
        "<%= status.html_safe %>": null,
        <% end %>
      }
    });
  });

  function buildComponentUrl(path) {
    return path + '?' + $('#filter-params').serialize();
  }
</script>
