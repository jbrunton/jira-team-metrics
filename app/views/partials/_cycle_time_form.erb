<div class="row" id="ct-states">
  <form id="filter-params" class="col s12">
    <div class="row">
      <div class="input-field col s3">
        <input name="from_state" id="from_state" type="text" class="validate state" autocomplete="off">
        <label for="from_state">From State</label>
      </div>
      <div class="input-field col s3">
        <input name="to_state" id="to_state" type="text" class="validate state" autocomplete="off">
        <label for="to_state">To State</label>
      </div>
    </div>
    <div class="row">
      <div class="col s6">
        <textarea name="query"></textarea>
      </div>
    </div>
    <div class="row">
      <div class="col s3">
        <p>Filters:</p>
        <ul>
        <% @board.filters.each do |filter| %>
          <li><%= filter.name %></li>
        <% end %>
        </ul>
      </div>
      <div class="col s3">
        <p>Issue Types:</p>
        <ul>
        <% @board.issue_types.each do |issue_type| %>
          <li><%= issue_type%></li>
        <% end %>
        </ul>
      </div>
    </div>
  </form>
</div>

<script>
  $(function() {
    $('.state').autocomplete({
      data: {
        <% @domain['statuses'].each do |status, _| %>
        "<%= status.html_safe %>": null,
        <% end %>
      }
    });
  });

  function buildComponentUrl(path) {
    return path + '?' + $('#filter-params').serialize();
  }
</script>
